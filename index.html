<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">蓍草六爻排盘 - 易经占卜系统 | I Ching Divination | 易経占い | 역경점 | Adivinación I Ching</title>
    <meta name="description" content="传统蓍草六爻易经占卜系统，提供详细的排卦过程，适用于个人决策、事业规划和人生指引。Traditional yarrow stalk I Ching divination system. 伝統的な筮竹を使用した易経占いシステム。전통적인 시초 역경점술 시스템. Sistema tradicional de adivinación I Ching con tallos de milenrama.">
    <meta name="keywords" content="易经,六爻,蓍草,占卜,卦象,预测,I Ching,Yi Jing,Divination,Hexagram,易経,占い,六爻,筮竹,역경,육효,점술,시초,I Ching,Hexagrama,Adivinación">
    <meta name="author" content="SixYao">
    <meta name="robots" content="index, follow">
    
    <!-- 社交媒体分享优化 -->
    <meta property="og:title" content="蓍草六爻排盘 - 易经占卜系统">
    <meta property="og:description" content="传统蓍草六爻易经占卜系统，提供准确的卦象解读和详细的排卦过程">
    <meta property="og:image" content="https://www.sixyao.xyz/images/sixyao-preview.jpg">
    <meta property="og:url" content="https://www.sixyao.xyz/index.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="易经六爻">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="蓍草六爻排盘 - 易经占卜系统">
    <meta name="twitter:description" content="传统蓍草六爻易经占卜系统，提供准确的卦象解读和详细的排卦过程">
    <meta name="twitter:image" content="https://www.sixyao.xyz/images/sixyao-preview.jpg">
    
    <!-- 样式表 -->
    <link rel="stylesheet" href="style.css">
    
    <!-- 预加载关键资源 -->
    <link rel="preload" href="data/langLoader.js" as="script">
    
    <!-- 语言切换脚本 -->
    <script src="data/langLoader.js"></script>
    
    <!-- 网站图标 -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
</head>
<body>
    <div class="container" itemscope itemtype="https://schema.org/SoftwareApplication">
        <meta itemprop="name" content="蓍草六爻排盘系统">
        <meta itemprop="description" content="传统蓍草六爻易经占卜系统，提供准确的卦象解读和详细的排卦过程">
        <meta itemprop="applicationCategory" content="LifestyleApplication">
        <meta itemprop="operatingSystem" content="Web">
        <meta itemprop="offers" itemscope itemtype="https://schema.org/Offer">
        <meta itemprop="price" content="0">
        <meta itemprop="priceCurrency" content="USD">
        <meta itemprop="availability" content="https://schema.org/InStock">
        
        <nav class="navigation" aria-label="主导航">
            <a href="hexagrams.html" class="nav-button" id="nav-hexagrams">查看六十四卦象表</a>
            <div class="language-switcher" aria-label="语言选择">
                <button class="language-btn" data-lang="zh-CN" aria-pressed="true">简体中文</button>
                <button class="language-btn" data-lang="zh-TW" aria-pressed="false">繁體中文</button>
                <button class="language-btn" data-lang="en" aria-pressed="false">English</button>
                <button class="language-btn" data-lang="ja" aria-pressed="false">日本語</button>
                <button class="language-btn" data-lang="ko" aria-pressed="false">한국어</button>
                <button class="language-btn" data-lang="es" aria-pressed="false">Español</button>
            </div>
        </nav>
        
        <header>
            <h1 id="main-title" itemprop="name">蓍草六爻排盘系统</h1>
            <p class="site-description" id="site-description">传统易经占卜方法，探索事物发展的规律与趋势</p>
        </header>
        
        <main>
            <section class="input-section" aria-labelledby="input-title">
                <h2 id="input-title">求卦问题</h2>
                <div class="question-input">
                    <textarea id="question" placeholder="请输入您的问题..." aria-label="占卜问题输入框" required></textarea>
                    <div class="date-input">
                        <label for="cast-date" id="date-label">排卦日期：</label>
                        <input type="datetime-local" id="cast-date" aria-label="选择占卜日期时间">
                    </div>
                    <button id="cast-button" type="button" aria-label="开始排卦">排卦</button>
                </div>
            </section>
            
            <section class="process-section" id="process-section" aria-labelledby="process-title">
                <h2 id="process-title">排卦过程</h2>
                <div id="process-details" aria-live="polite"></div>
            </section>
            
            <section class="result-section" id="result-section" style="display: none;" aria-labelledby="result-title">
                <h2 id="result-title">卦象结果</h2>
                <div class="date-info" id="date-info" aria-label="排卦日期信息"></div>
                <div class="lunar-info" id="lunar-info" aria-label="农历日期信息"></div>
                
                <div class="hexagram-container">
                    <article class="hexagram" id="main-hexagram" itemscope itemtype="https://schema.org/CreativeWork">
                        <h3><span id="main-hexagram-label">主卦：</span><span id="main-hexagram-name" itemprop="name"></span></h3>
                        <div class="hexagram-figure" id="main-hexagram-figure" aria-label="主卦图形"></div>
                        <div class="hexagram-text" id="main-hexagram-text" itemprop="text"></div>
                        
                        <div class="yao-texts" id="main-hexagram-yao-texts">
                            <h4 id="main-yao-text-title">爻辞</h4>
                            <div class="yao-text-container" id="main-yao-text-container" itemprop="description"></div>
                        </div>
                    </article>
                    
                    <article class="hexagram" id="changed-hexagram" style="display: none;" itemscope itemtype="https://schema.org/CreativeWork">
                        <h3><span id="changed-hexagram-label">变卦：</span><span id="changed-hexagram-name" itemprop="name"></span></h3>
                        <div class="hexagram-figure" id="changed-hexagram-figure" aria-label="变卦图形"></div>
                        <div class="hexagram-text" id="changed-hexagram-text" itemprop="text"></div>
                        
                        <div class="yao-texts" id="changed-hexagram-yao-texts">
                            <h4 id="changed-yao-text-title">爻辞</h4>
                            <div class="yao-text-container" id="changed-yao-text-container" itemprop="description"></div>
                        </div>
                    </article>
                </div>
                
                <div class="detailed-info">
                    <h3 id="detail-title">卦象详解</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <h4 id="shi-yao-title">世爻</h4>
                            <div id="shi-yao"></div>
                        </div>
                        <div class="info-item">
                            <h4 id="ying-yao-title">应爻</h4>
                            <div id="ying-yao"></div>
                        </div>
                        <div class="info-item">
                            <h4 id="yong-shen-title">用神</h4>
                            <div id="yong-shen"></div>
                        </div>
                    </div>
                    
                    <div id="yao-details">
                        <h4 id="yao-detail-title">爻位详解</h4>
                        <table id="yao-table" aria-label="爻位详细信息表">
                            <thead id="yao-table-head">
                                <tr>
                                    <th id="th-position" scope="col">爻位</th>
                                    <th id="th-symbol" scope="col">爻象</th>
                                    <th id="th-element" scope="col">五行</th>
                                    <th id="th-relation" scope="col">六亲</th>
                                    <th id="th-status" scope="col">状态</th>
                                </tr>
                            </thead>
                            <tbody id="yao-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p style="text-align: center;">© <span id="current-year">2025</span> 易经六爻排盘系统 - 传统揲蓍起卦探索古老智慧</p>
            <div class="social-links" style="text-align: center; margin-top: 10px;">
                <a href="https://x.com/NeuralOracle" target="_blank" rel="noopener noreferrer" style="display: inline-flex; align-items: center; text-decoration: none; color: #333;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="margin-right: 5px;">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                    </svg>
                </a>
            </div>

            
            <!-- <nav class="footer-nav">
                <a href="about.html">关于我们</a>
                <a href="privacy.html">隐私政策</a>
                <a href="terms.html">使用条款</a>
                <a href="contact.html">联系我们</a>
            </nav> -->
        </footer>
    </div>
    
    <script src="js-calendar-converter.js"></script>
    <script src="js/language-switcher.js"></script>
    <script src="script.js"></script>
    <script>
        // 更新界面文本的函数
        function updateUIText() {
            // 只有在indexText加载后才执行
            if (!indexText || Object.keys(indexText).length === 0) return;
            
            // 页面标题
            const pageTitle = document.getElementById('page-title');
            if (pageTitle) pageTitle.textContent = indexText.title ? (indexText.title + " - I Ching Divination") : '蓍草六爻排盘 - 易经占卜系统 | I Ching Divination';
            
            const mainTitle = document.getElementById('main-title');
            if (mainTitle) mainTitle.textContent = indexText.title || '蓍草六爻排盘系统';
            
            // 站点描述
            const siteDescription = document.getElementById('site-description');
            if (siteDescription) siteDescription.textContent = indexText.description || '传统易经占卜方法，探索事物发展的规律与趋势';
            
            // 导航区域
            const navHexagrams = document.getElementById('nav-hexagrams');
            if (navHexagrams) navHexagrams.textContent = indexText.navigation?.viewHexagrams || '查看六十四卦象表';
            
            // 输入区域
            const inputTitle = document.getElementById('input-title');
            if (inputTitle) inputTitle.textContent = indexText.sections?.input?.title || '求卦问题';
            
            const question = document.getElementById('question');
            if (question) question.placeholder = indexText.sections?.input?.placeholder || '请输入您的问题...';
            
            const dateLabel = document.getElementById('date-label');
            if (dateLabel) dateLabel.textContent = indexText.sections?.input?.dateLabel || '排卦日期：';
            
            const castButton = document.getElementById('cast-button');
            if (castButton) castButton.textContent = indexText.sections?.input?.button || '排卦';
            
            // 过程区域
            const processTitle = document.getElementById('process-title');
            if (processTitle) processTitle.textContent = indexText.sections?.process?.title || '排卦过程';
            
            // 结果区域
            const resultTitle = document.getElementById('result-title');
            if (resultTitle) resultTitle.textContent = indexText.sections?.result?.title || '卦象结果';
            
            const mainHexagramLabel = document.getElementById('main-hexagram-label');
            if (mainHexagramLabel) mainHexagramLabel.textContent = indexText.sections?.result?.main || '主卦：';
            
            const changedHexagramLabel = document.getElementById('changed-hexagram-label');
            if (changedHexagramLabel) changedHexagramLabel.textContent = indexText.sections?.result?.changed || '变卦：';
            
            const mainYaoTextTitle = document.getElementById('main-yao-text-title');
            if (mainYaoTextTitle) mainYaoTextTitle.textContent = indexText.sections?.result?.yaoText || '爻辞';
            
            const changedYaoTextTitle = document.getElementById('changed-yao-text-title');
            if (changedYaoTextTitle) changedYaoTextTitle.textContent = indexText.sections?.result?.yaoText || '爻辞';
            
            // 详细信息区域
            const detailTitle = document.getElementById('detail-title');
            if (detailTitle) detailTitle.textContent = indexText.sections?.result?.details?.title || '卦象详解';
            
            const shiYaoTitle = document.getElementById('shi-yao-title');
            if (shiYaoTitle) shiYaoTitle.textContent = indexText.sections?.result?.details?.shiYao || '世爻';
            
            const yingYaoTitle = document.getElementById('ying-yao-title');
            if (yingYaoTitle) yingYaoTitle.textContent = indexText.sections?.result?.details?.yingYao || '应爻';
            
            const yongShenTitle = document.getElementById('yong-shen-title');
            if (yongShenTitle) yongShenTitle.textContent = indexText.sections?.result?.details?.yongShen || '用神';
            
            const yaoDetailTitle = document.getElementById('yao-detail-title');
            if (yaoDetailTitle) yaoDetailTitle.textContent = indexText.sections?.result?.details?.yaoDetail || '爻位详解';
            
            // 表格表头
            const thPosition = document.getElementById('th-position');
            if (thPosition) thPosition.textContent = indexText.sections?.result?.details?.tableHeaders?.position || '爻位';
            
            const thSymbol = document.getElementById('th-symbol');
            if (thSymbol) thSymbol.textContent = indexText.sections?.result?.details?.tableHeaders?.symbol || '爻象';
            
            const thElement = document.getElementById('th-element');
            if (thElement) thElement.textContent = indexText.sections?.result?.details?.tableHeaders?.element || '五行';
            
            const thRelation = document.getElementById('th-relation');
            if (thRelation) thRelation.textContent = indexText.sections?.result?.details?.tableHeaders?.relation || '六亲';
            
            const thStatus = document.getElementById('th-status');
            if (thStatus) thStatus.textContent = indexText.sections?.result?.details?.tableHeaders?.status || '状态';
        }
        
        // 页面加载和语言变更时更新UI文本
        document.addEventListener('DOMContentLoaded', function() {
            // 更新页脚年份
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // 初次加载
            updateUIText();
            
            // 监听语言变更事件
            document.addEventListener('languageChanged', function(event) {
                // 更新HTML lang属性
                document.documentElement.lang = event.detail.lang;
                
                // 更新aria-pressed状态
                document.querySelectorAll('.language-btn').forEach(btn => {
                    btn.setAttribute('aria-pressed', btn.getAttribute('data-lang') === event.detail.lang);
                });
                
                // 延迟执行以确保indexText已更新
                setTimeout(updateUIText, 100);
            });
        });
    </script>
</body>
</html> 